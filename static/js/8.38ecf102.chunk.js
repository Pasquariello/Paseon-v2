(this.webpackJsonppaseon=this.webpackJsonppaseon||[]).push([[8],{202:function(e,t,a){"use strict";a.r(t);var n=a(164),r=a(109),i=a(141),o=a(116),c=a(0),l=a.n(c),s=a(105),d=a(140),u=(a(16),a(149)),p=a(154),m=function(e){var t=e.addNewRow,a=Object(c.useState)(),n=Object(o.a)(a,2);n[0],n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.c,{droppableId:e.type,type:"droppableSubItem",direction:"horizontal",isDropDisabled:e.subItems.length>3},(function(a,n){return l.a.createElement("div",{style:{border:"1px solid green",padding:10}},l.a.createElement("div",Object.assign({ref:a.innerRef,style:(r=n.isDraggingOver,{background:r&&"lightblue",padding:8,border:"1px solid #eee",borderRadius:5,margin:10,position:"relative"})},a.droppableProps),l.a.createElement("div",{style:{overflowY:"visible",overflowX:"auto"}},l.a.createElement("div",{style:{width:50,height:25,background:"purple",position:"absolute",top:-12.5,right:10,zIndex:99}}),l.a.createElement("div",{style:{display:"flex",margin:15}},l.a.createElement("span",Object.assign({},e.parentDrag,{style:{marginRight:10}}),l.a.createElement(u.a,{icon:p.a,style:{float:"left"}})),l.a.createElement("button",{onClick:t},"Insert Row below"),e.subItems.map((function(t,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{key:t.id,draggableId:t.id,index:a},(function(a,n){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,{style:(r=n.isDragging,o=a.draggableProps.style,c=e.subItems.length,Object(i.a)(Object(i.a)({padding:16,margin:"0 ".concat(8,"px 0 0"),background:r?"lightgreen":"grey",width:"".concat(100/c,"%")},o),{},{draggableStyle:r?"".concat(100/(c+2),"%"):"10%"}))}),l.a.createElement("span",Object.assign({},a.dragHandleProps,{style:{marginRight:10}}),l.a.createElement(u.a,{icon:p.a,style:{float:"left"}})),t.name));var r,o,c})))}))))));var r})))},b=a(76),g=a(75),f=function(e){var t=e.addNewField;return l.a.createElement(s.a,{style:{width:"33%",border:"1px solid red"}},l.a.createElement(s.a,{style:{width:"inherit",position:"fixed"}},l.a.createElement(s.a,{style:{border:"1px solid blue",padding:24}},l.a.createElement(b.a,null,"Common"),l.a.createElement(s.a,{display:"flex",justifyContent:"space-around",width:"100%",style:{flexWrap:"wrap"}},[{name:"First Name",type:"text"},{name:"Last Name",type:"text"},{name:"Phone",type:"text"},{name:"Email",type:"text"},{name:"State",type:"select"},{name:"Zip Code",type:"text"}].map((function(e,a){return l.a.createElement(s.a,{key:e.name,style:{width:"33.33%",border:"1px solid red"}},l.a.createElement(s.a,null,l.a.createElement(g.a,{onClick:function(){t(e.name,e.type)},style:{width:"100%",border:"1px solid blue",backgroundColor:"#ddd",cursor:"pointer",padding:10}},l.a.createElement(b.a,null,e.name))))}))))))},y=a(17),h=a(155),E=a.n(h),w=[{id:E.a.generate(),name:"First Name",row:0,col:0,type:"text"},{id:E.a.generate(),name:"Last Name",row:0,col:6,type:"text"},{id:E.a.generate(),name:"Address",row:0,col:1,type:"text"},{id:E.a.generate(),name:"Phone",row:1,col:0,type:"text"},{id:E.a.generate(),name:"Email",row:1,col:1,type:"text"},{id:E.a.generate(),name:"Row",row:2,col:1,type:"text"},{id:E.a.generate(),name:"thing1",row:2,col:0,type:"text"},{id:E.a.generate(),name:"thing2",row:3,col:0,type:"text"},{id:E.a.generate(),name:"thing2.5",row:5,col:0,type:"text"},{id:E.a.generate(),name:"thing3",row:9,col:0,type:"text"}],j=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(o.a)(r,1)[0];return n.splice(a,0,c),n.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{col:t})}))};t.default=function(e){e.className,e.onSubmitSuccess,Object(r.a)(e,["className","onSubmitSuccess"]),Object(y.c)();var t=Object(c.useState)([]),a=Object(o.a)(t,2),u=a[0],p=a[1];Object(c.useEffect)((function(){b(w)}),[]);var b=function(e){var t=[],a=(e.map((function(e,a){return t[e.row]?(t[e.row].splice(e.col,0,e),e):(t.push([e]),Object(i.a)(Object(i.a)({},e),{},{row:t.length-1}))})),t.map((function(e,t){return{id:"".concat(t),subItems:e.map((function(e,a){return Object(i.a)(Object(i.a)({},e),{},{col:a,row:t})}))}})));p(a);var n=[];return a.map((function(e){return e.subItems.map((function(e){return n.push(e),e}))})),console.log("arr",n),t},g=Object(c.useRef)(),h=function(){setTimeout((function(){g.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),100)},v=function(e){var t=u;t.splice(e,0,{subItems:[]}),p(t.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{id:"".concat(t)})})))},O=Object(c.useState)(!1),x=Object(o.a)(O,2),I=x[0],k=x[1];return l.a.createElement(s.a,{display:"flex",height:"100%",width:"100%",style:{border:"1px solid red"}},l.a.createElement(f,{addNewField:function(e,t){var a=u,r=[].concat(Object(n.a)(a),[{id:"".concat(u.length),subItems:[{id:E.a.generate(),name:e,row:u.length,col:0,type:t}]}]);p(r),h()}}),l.a.createElement(s.a,{style:{border:"1px solid green"},width:"50%"},"  ",l.a.createElement(d.a,{onDragEnd:function(e){if(k(!1),e.destination){var t=e.source.index,a=e.destination.index;if("droppableItem"===e.type){var r=j(u,t,a);p(r)}else if("droppableSubItem"===e.type){var i=u.reduce((function(e,t){return e[t.id]=t.subItems,e}),{}),c=parseInt(e.source.droppableId),l=parseInt(e.destination.droppableId),s=i[c],d=i[l],m=Object(n.a)(u);if(c===l){var b=j(s,t,a);m=m.map((function(e){return e.id==c&&(e.subItems=b),e})),p(m)}else{var g=Object(n.a)(s),f=g.splice(t,1),y=Object(o.a)(f,1)[0],h=Object(n.a)(d);h.splice(a,0,y),m=m.map((function(e){return e.id==c?e.subItems=g:e.id==l&&(e.subItems=h),e})),e.type="droppableItem",p(m.filter((function(e){return e.subItems.length})))}}}},onBeforeCapture:function(e){return k(!0)}},l.a.createElement(d.c,{droppableId:"droppable",type:"droppableItem"},(function(e,t){return l.a.createElement("div",{ref:e.innerRef},l.a.createElement("button",{onClick:function(){v(0)}},"Add First Row"),u.map((function(e,t){return l.a.createElement("div",{key:e.id,ref:g},l.a.createElement(d.b,{key:e.id,draggableId:e.id,index:t},(function(a,n){return l.a.createElement("div",null,l.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps),console.log("===",e),l.a.createElement(m,{parentDrag:Object(i.a)({},a.dragHandleProps),elemWidth:I,addNewRow:function(){return v(t+1)},subItems:e.subItems,type:e.id})))})))})),e.placeholder)}))),l.a.createElement("button",{onClick:function(){var e=[];u.map((function(t,a){return t.subItems.map((function(t,n){return e.push(Object(i.a)(Object(i.a)({},t),{},{col:n,row:a})),t}))}))}},"Save")))}}}]);
//# sourceMappingURL=8.38ecf102.chunk.js.map