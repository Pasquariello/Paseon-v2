(this.webpackJsonppaseon=this.webpackJsonppaseon||[]).push([[8],{211:function(e,t,a){"use strict";a.r(t);var n=a(172),r=a(110),o=a(137),c=a(112),i=a(0),l=a.n(i),s=a(106),d=(a(142),a(136)),u=(a(16),a(145),a(146),function(e){e.addNewRow;var t=Object(i.useState)(),a=Object(c.a)(t,2);a[0],a[1]}),p=a(160),m=a(161),b=a(173),f=a(171),y=(l.a.Component,a(76)),g=a(75),w=function(e){var t=e.addNewField;return l.a.createElement(s.a,{style:{width:"33%",border:"1px solid red"}},l.a.createElement(s.a,{style:{width:"inherit",position:"fixed"}},l.a.createElement(s.a,{style:{border:"1px solid blue",padding:24}},l.a.createElement(y.a,null,"Common"),l.a.createElement(s.a,{display:"flex",justifyContent:"space-around",width:"100%",style:{flexWrap:"wrap"}},[{name:"First Name",type:"text"},{name:"Last Name",type:"text"},{name:"Phone",type:"text"},{name:"Email",type:"text"},{name:"State",type:"select"},{name:"Zip Code",type:"text"}].map((function(e,a){return l.a.createElement(s.a,{key:e.name,style:{width:"33.33%",border:"1px solid red"}},l.a.createElement(s.a,null,l.a.createElement(g.a,{onClick:function(){t(e.name,e.type)},style:{width:"100%",border:"1px solid blue",backgroundColor:"#ddd",cursor:"pointer",padding:10}},l.a.createElement(y.a,null,e.name))))}))))))},h=a(17),j=a(162),x=a.n(j),O=[{id:x.a.generate(),name:"First Name",row:0,col:0,type:"text"},{id:x.a.generate(),name:"Last Name",row:0,col:6,type:"text"},{id:x.a.generate(),name:"Address",row:0,col:1,type:"text"},{id:x.a.generate(),name:"Phone",row:1,col:0,type:"text"},{id:x.a.generate(),name:"Email",row:1,col:1,type:"text"},{id:x.a.generate(),name:"Row",row:2,col:1,type:"text"},{id:x.a.generate(),name:"thing1",row:2,col:0,type:"text"},{id:x.a.generate(),name:"thing2",row:3,col:0,type:"text"},{id:x.a.generate(),name:"thing2.5",row:5,col:0,type:"text"},{id:x.a.generate(),name:"thing3",row:9,col:0,type:"text"}],E=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(c.a)(r,1)[0];return n.splice(a,0,i),n.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{col:t})}))};t.default=function(e){e.className,e.onSubmitSuccess,Object(r.a)(e,["className","onSubmitSuccess"]),Object(h.c)();var t=Object(i.useState)([]),a=Object(c.a)(t,2),p=a[0],m=a[1];Object(i.useEffect)((function(){b(O)}),[]);var b=function(e){var t=[],a=e.map((function(e,a){return t[e.row]?(t[e.row].splice(e.col,0,e),e):(t.push([e]),Object(o.a)(Object(o.a)({},e),{},{row:t.length-1}))}));console.log("buildArrayMatrix foo",a),console.log("tempArray before bar",t,t.length);var n=t.map((function(e,t){return console.log("row",e),{id:"".concat(t),subItems:e.map((function(e,a){return Object(o.a)(Object(o.a)({},e),{},{col:a,row:t})}))}}));m(n);var r=[];return n.map((function(e){return e.subItems.map((function(e){return r.push(e),e}))})),console.log("arr",r),t},f=Object(i.useRef)(),y=function(){setTimeout((function(){f.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),100)},g=function(e){var t=p;t.splice(e,0,{subItems:[]}),m(t.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:"".concat(t)})})))},j=Object(i.useState)(!1),v=Object(c.a)(j,2),I=v[0],k=v[1];return l.a.createElement(s.a,{display:"flex",height:"100%",width:"100%",style:{border:"1px solid red"}},l.a.createElement(w,{addNewField:function(e,t){var a=p,r=[].concat(Object(n.a)(a),[{id:"".concat(p.length),subItems:[{id:x.a.generate(),name:e,row:p.length,col:0,type:t}]}]);m(r),y()}}),l.a.createElement(s.a,{style:{border:"1px solid green"},width:"50%"},"  ",l.a.createElement(d.a,{onDragEnd:function(e){if(k(!1),e.destination){var t=e.source.index,a=e.destination.index;if("droppableItem"===e.type){var r=E(p,t,a);m(r)}else if("droppableSubItem"===e.type){var o=p.reduce((function(e,t){return e[t.id]=t.subItems,e}),{}),i=parseInt(e.source.droppableId),l=parseInt(e.destination.droppableId),s=o[i],d=o[l],u=Object(n.a)(p);if(i===l){var b=E(s,t,a);u=u.map((function(e){return e.id==i&&(e.subItems=b),e})),m(u)}else{var f=Object(n.a)(s),y=f.splice(t,1),g=Object(c.a)(y,1)[0],w=Object(n.a)(d);w.splice(a,0,g),u=u.map((function(e){return e.id==i?e.subItems=f:e.id==l&&(e.subItems=w),e})),e.type="droppableItem",m(u.filter((function(e){return e.subItems.length})))}}}},onBeforeCapture:function(e){return k(!0)}},l.a.createElement(d.c,{droppableId:"droppable",type:"droppableItem"},(function(e,t){return l.a.createElement("div",{ref:e.innerRef},l.a.createElement("button",{onClick:function(){g(0)}},"Add First Row"),p.map((function(e,t){return l.a.createElement("div",{key:e.id,ref:f},l.a.createElement(d.b,{key:e.id,draggableId:e.id,index:t},(function(a,n){return l.a.createElement("div",null,l.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps),console.log("===",e),l.a.createElement(u,{parentDrag:Object(o.a)({},a.dragHandleProps),elemWidth:I,addNewRow:function(){return g(t+1)},subItems:e.subItems,type:e.id})))})))})),e.placeholder)}))),l.a.createElement("button",{onClick:function(){var e=[];p.map((function(t,a){return t.subItems.map((function(t,n){return e.push(Object(o.a)(Object(o.a)({},t),{},{col:n,row:a})),t}))}))}},"Save")))}}}]);
//# sourceMappingURL=8.847398ec.chunk.js.map